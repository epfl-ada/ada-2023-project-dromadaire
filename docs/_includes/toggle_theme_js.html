<script type="text/javascript">
  window.addEventListener('load', themeChange);
  const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
  if (currentTheme)
    document.documentElement.setAttribute('data-theme', currentTheme);

  function themeChange() {
    let button = document.querySelector('.theme-toggle');

    button.addEventListener('click', function (e) {
      let currentTheme = document.documentElement.getAttribute('data-theme');
      let bgImg = document.getElementById('welcome');
      if (currentTheme === 'dark') {
        transition();
        document.documentElement.setAttribute('data-theme', 'light');
        bgImg.src = "assets/images/background_light.jpg"
        localStorage.setItem('theme', 'light');
        setTimeout(() => {
          if(currentTheme === 'light'){
            alert("Hey! People are trying to watch a movie here! Turn off the lights!!!")
          }
        }, 3000)
      } else {
        transition();
        document.documentElement.setAttribute('data-theme', 'dark');
        bgImg.src = "assets/images/background.jpg"
        localStorage.setItem('theme', 'dark');
      }
    });

    let transition = () => {
      document.documentElement.classList.add('transition');
      window.setTimeout(() => {
        document.documentElement.classList.remove('transition');
      }, 1000);
    }
  }
</script>

